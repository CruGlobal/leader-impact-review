Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector);Element.prototype.closest||(Element.prototype.closest=function(n){var h=this;if(!document.documentElement.contains(h))return null;do{if(h.matches(n))return h;h=h.parentElement||h.parentNode}while(null!==h&&1===h.nodeType);return null});
(function(){function n(d){function h(a){b._config=a;a.element.removeAttribute("data-cmp-is");E(a.options);k(a.element);b._elements.item&&(b._elements.item=Array.isArray(b._elements.item)?b._elements.item:[b._elements.item],b._elements.button=Array.isArray(b._elements.button)?b._elements.button:[b._elements.button],b._elements.panel=Array.isArray(b._elements.panel)?b._elements.panel:[b._elements.panel],b._properties.singleExpansion&&(a=v(),0===a.length&&r(0),1<a.length&&r(a.length-1)),A(),n(),l());
  window.Granite&&window.Granite.author&&window.Granite.author.MessageChannel&&(window.CQ.CoreComponents.MESSAGE_CHANNEL=window.CQ.CoreComponents.MESSAGE_CHANNEL||new window.Granite.author.MessageChannel("cqauthor",window),window.CQ.CoreComponents.MESSAGE_CHANNEL.subscribeRequestMessage("cmp.panelcontainer",function(a){if(a.data&&"cmp-accordion"===a.data.type&&a.data.id===b._elements.self.dataset.cmpPanelcontainerId&&"navigate"===a.data.operation){var c=b._properties.singleExpansion;b._properties.singleExpansion=
    !0;r(a.data.index);b._properties.singleExpansion=c}}))}function l(){if(f){var a=f.getDeepLinkItemIdx(b,"item","item");if(a&&-1!==a){if((a=b._elements.item[a])&&!a.hasAttribute(w.item.expanded)){if(b._properties.singleExpansion)for(var c=0;c<b._elements.item.length;c++)b._elements.item[c].hasAttribute(w.item.expanded)&&x(b._elements.item[c],!1,!0);x(a,!0,!0)}(a=window.location.hash.substring(1))&&(a=document.querySelector("[id\x3d'"+a+"']"))&&a.scrollIntoView()}}}function k(a){b._elements={};b._elements.self=
  a;a=b._elements.self.querySelectorAll("[data-cmp-hook-accordion]");for(var c=0;c<a.length;c++){var e=a[c];if(e.closest(".cmp-accordion")===b._elements.self){var g="accordion";g=g.charAt(0).toUpperCase()+g.slice(1);g=e.dataset["cmpHook"+g];b._elements[g]?(Array.isArray(b._elements[g])||(b._elements[g]=[b._elements[g]]),b._elements[g].push(e)):b._elements[g]=e}}}function E(a){b._properties={};for(var c in y)if(Object.prototype.hasOwnProperty.call(y,c)){var e=y[c],g=null;a&&null!=a[c]&&(g=a[c],e&&"function"===
typeof e.transform&&(g=e.transform(g)));null===g&&(g=y[c]["default"]);b._properties[c]=g}}function n(){window.addEventListener("hashchange",l,!1);var a=b._elements.button;if(a)for(var c=0;c<a.length;c++)(function(e){a[c].addEventListener("click",function(a){r(e);p(e)});a[c].addEventListener("keydown",function(a){var c=b._elements.button.length-1;switch(a.keyCode){case m.ARROW_LEFT:case m.ARROW_UP:a.preventDefault();0<e&&p(e-1);break;case m.ARROW_RIGHT:case m.ARROW_DOWN:a.preventDefault();e<c&&p(e+
  1);break;case m.HOME:a.preventDefault();p(0);break;case m.END:a.preventDefault();p(c);break;case m.ENTER:case m.SPACE:a.preventDefault(),r(e),p(e)}})})(c)}function r(a){if(a=b._elements.item[a]){if(b._properties.singleExpansion)for(var c=0;c<b._elements.item.length;c++)b._elements.item[c]!==a&&t(b._elements.item[c])&&x(b._elements.item[c],!1);x(a,!t(a));if(z){a=b._elements.self.id;var e=v().map(function(a){return B(a)});c={component:{}};c.component[a]={shownItems:e};e={component:{}};e.component[a]=
  {shownItems:void 0};u.push(e);u.push(c)}}}function x(a,c,e){c?(a.setAttribute(w.item.expanded,""),c=b._elements.item.indexOf(a),!e&&f&&f.updateUrlHash(b,"item",c),z&&u.push({event:"cmp:show",eventInfo:{path:"component."+B(a)}})):(a.removeAttribute(w.item.expanded),!e&&f&&f.removeUrlHash(),z&&u.push({event:"cmp:hide",eventInfo:{path:"component."+B(a)}}));t(a)?C(a):D(a)}function t(a){return a&&a.dataset&&void 0!==a.dataset.cmpExpanded}function A(){for(var a=0;a<b._elements.item.length;a++){var c=b._elements.item[a];
  t(c)?C(c):D(c)}}function v(){for(var a=[],c=0;c<b._elements.item.length;c++){var e=b._elements.item[c];t(e)&&a.push(e)}return a}function C(a){a=b._elements.item.indexOf(a);if(-1<a){var c=b._elements.button[a];a=b._elements.panel[a];c.classList.add(q.button.expanded);setTimeout(function(){c.setAttribute("aria-expanded",!0)},100);a.classList.add(q.panel.expanded);a.classList.remove(q.panel.hidden);a.setAttribute("aria-hidden",!1)}}function D(a){a=b._elements.item.indexOf(a);if(-1<a){var c=b._elements.button[a];
  a=b._elements.panel[a];c.classList.remove(q.button.expanded);setTimeout(function(){c.setAttribute("aria-expanded",!1)},100);a.classList.add(q.panel.hidden);a.classList.remove(q.panel.expanded);a.setAttribute("aria-hidden",!0)}}function p(a){b._elements.button[a].focus()}var b=this;d&&d.element&&h(d)}function h(d){d=d.dataset;var h=[],l="accordion";l=l.charAt(0).toUpperCase()+l.slice(1);l=["is","hook"+l];for(var k in d)if(Object.prototype.hasOwnProperty.call(d,k)){var f=d[k];0===k.indexOf("cmp")&&
(k=k.slice(3),k=k.charAt(0).toLowerCase()+k.substring(1),-1===l.indexOf(k)&&(h[k]=f))}return h}function B(d){return d?d.dataset.cmpDataLayer?Object.keys(JSON.parse(d.dataset.cmpDataLayer))[0]:d.id:null}function A(){u=(z=document.body.hasAttribute("data-cmp-data-layer-enabled"))?window.adobeDataLayer=window.adobeDataLayer||[]:void 0;for(var d=document.querySelectorAll(v.self),f=0;f<d.length;f++)new n({element:d[f],options:h(d[f])});d=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver;
  f=document.querySelector("body");(new d(function(d){d.forEach(function(d){d=[].slice.call(d.addedNodes);0<d.length&&d.forEach(function(d){d.querySelectorAll&&[].slice.call(d.querySelectorAll(v.self)).forEach(function(d){new n({element:d,options:h(d)})})})})})).observe(f,{subtree:!0,childList:!0,characterData:!0})}var f=window.CQ&&window.CQ.CoreComponents&&window.CQ.CoreComponents.container&&window.CQ.CoreComponents.container.utils?window.CQ.CoreComponents.container.utils:void 0;f||console.warn("Accordion: container utilities at window.CQ.CoreComponents.container.utils are not available. This can lead to missing features. Ensure the core.wcm.components.commons.site.container client library is included on the page.");
  var z,u,m={ENTER:13,SPACE:32,END:35,HOME:36,ARROW_LEFT:37,ARROW_UP:38,ARROW_RIGHT:39,ARROW_DOWN:40},v={self:'[data-cmp-is\x3d"accordion"]'},q={button:{disabled:"cmp-accordion__button--disabled",expanded:"cmp-accordion__button--expanded"},panel:{hidden:"cmp-accordion__panel--hidden",expanded:"cmp-accordion__panel--expanded"}},w={item:{expanded:"data-cmp-expanded"}},y={singleExpansion:{"default":!1,transform:function(d){return!(null===d||"undefined"===typeof d)}}};"loading"!==document.readyState?A():
    document.addEventListener("DOMContentLoaded",A);f&&window.addEventListener("load",f.scrollToAnchor,!1)})();
